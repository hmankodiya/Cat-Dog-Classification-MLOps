schema: '2.0'
stages:
  training:
    cmd: python src/stage_03_train.py --config configs/config.yaml --params params.yaml
    deps:
    - path: configs/config.yaml
      md5: e6c53461784834e7ff32350beec4e2dc
      size: 596
    - path: params.yaml
      md5: 6bfd9c7395baa8dfc2e012fd2893bc69
      size: 139
    - path: requirements.txt
      md5: 85b40d4962aff81eb3452b3d5f429ab9
      size: 93
    - path: src/stage_01_prepare.py
      md5: 34844bb4e75ae64d8c6edeb9153006c6
      size: 1608
    - path: src/stage_02_featurization.py
      md5: 01fd099ba86fc9f4927658252012f9a3
      size: 3066
    - path: src/stage_03_train.py
      md5: 70c1f6ec2bea3d57b59932f97bf5a99b
      size: 8978
    - path: src/utils/common.py
      md5: ae3a2322968a415ade0e530405eea884
      size: 860
    - path: src/utils/metrics.py
      md5: ea7f12586b5df16d240c979b44fb0c28
      size: 579
    outs:
    - path: artifacts/checkpoints/
      md5: a12fbcd40cb672dfb412232fb359aeaa.dir
      size: 44795981
      nfiles: 1
    - path: plots/avg_batch_loss.json
      md5: b53296a98516482f0501505ec9d0bd93
      size: 122
      isexec: true
    - path: plots/itr_loss.json
      md5: b9a9b3e0f15dcb864569b380e76f804a
      size: 112037
      isexec: true
    - path: plots/validation_metrics.json
      md5: 6e4defd10ebbdfa2284d974bb21734a6
      size: 169
      isexec: true
  evaluate:
    cmd: python src/stage_04_evaluate.py --config configs/config.yaml --params params.yaml
    deps:
    - path: artifacts/checkpoints/
      md5: a12fbcd40cb672dfb412232fb359aeaa.dir
      size: 44795981
      nfiles: 1
    - path: artifacts/model/
      md5: fafdcf58576e94136bbe821fcff88973.dir
      size: 16516748
      nfiles: 664
    - path: configs/config.yaml
      md5: e6c53461784834e7ff32350beec4e2dc
      size: 596
    - path: params.yaml
      md5: 6bfd9c7395baa8dfc2e012fd2893bc69
      size: 139
    - path: requirements.txt
      md5: 85b40d4962aff81eb3452b3d5f429ab9
      size: 93
    - path: src/stage_01_prepare.py
      md5: 34844bb4e75ae64d8c6edeb9153006c6
      size: 1608
    - path: src/stage_02_featurization.py
      md5: 01fd099ba86fc9f4927658252012f9a3
      size: 3066
    - path: src/stage_03_train.py
      md5: 70c1f6ec2bea3d57b59932f97bf5a99b
      size: 8978
    - path: src/stage_04_evaluate.py
      md5: 432f7c4552d3950aaee8fc0473437457
      size: 3217
    - path: src/utils/common.py
      md5: ae3a2322968a415ade0e530405eea884
      size: 860
    - path: src/utils/metrics.py
      md5: ea7f12586b5df16d240c979b44fb0c28
      size: 579
    outs:
    - path: metrics/test_f1.json
      md5: 67a2e9d15c74fbd9d776a0984d07a4fb
      size: 22
      isexec: true
    - path: metrics/test_score.json
      md5: 2a6f2fc4bc4b9fcda996035069a09121
      size: 41
      isexec: true
  run_plots_command:
    cmd: dvc plots diff
  featurization:
    cmd: python src/stage_02_featurization.py --config configs/config.yaml --params
      params.yaml
    deps:
    - path: configs/config.yaml
      md5: e6c53461784834e7ff32350beec4e2dc
      size: 596
    - path: params.yaml
      md5: 6bfd9c7395baa8dfc2e012fd2893bc69
      size: 139
    - path: requirements.txt
      md5: 85b40d4962aff81eb3452b3d5f429ab9
      size: 93
    - path: src/stage_02_featurization.py
      md5: 01fd099ba86fc9f4927658252012f9a3
      size: 3066
  prepare_model:
    cmd: python src/stage_01_prepare.py --config configs/config.yaml --params params.yaml
    deps:
    - path: configs/config.yaml
      md5: e6c53461784834e7ff32350beec4e2dc
      size: 596
    - path: params.yaml
      md5: 6bfd9c7395baa8dfc2e012fd2893bc69
      size: 139
    - path: requirements.txt
      md5: 85b40d4962aff81eb3452b3d5f429ab9
      size: 93
    - path: src/stage_01_prepare.py
      md5: 34844bb4e75ae64d8c6edeb9153006c6
      size: 1608
    - path: src/utils/common.py
      md5: ae3a2322968a415ade0e530405eea884
      size: 860
    outs:
    - path: artifacts/model/
      md5: fafdcf58576e94136bbe821fcff88973.dir
      size: 16516748
      nfiles: 664
